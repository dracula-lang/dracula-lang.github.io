<html><head><title>Dracula Tutorial</title><link rel="stylesheet" type="text/css" href="layout.css"/></head><body><div id="navalpha"><ul><li><ul><li><a href="index.html">Dracula</a></li><li><a href="tutorial.html">Tutorial</a></li><li><a href="examples.html">Sample Code</a></li><li><a href="doublecheck.html">DoubleCheck</a></li><li><a href="worm.html">Worm Game</a></li><li><a href="reporting-bugs.html">Reporting Bugs</a></li></ul></li><li><div class="separator"></div></li><li><a href="../index.html">Home</a></li></ul></div><div class="title_box"><p><span class="float_right"></span><h1>A Short Tutorial</h1><p>We will illustrate how to use our software via this short walkthrough. It assumes that you have already installed the Dracula software. If you have not, please refer to the <a href="index.html">installation instructions</a>. </p><p>If you have installed the software, start up DrScheme and read on! Note that clicking on the small images below will open up a full-sized version in a new window. </p></p></div><div class="title_box"><p><span class="float_right"><a href="images/ChooseLanguage.png" target="_blank"><img src="images/ChooseLanguage-small.png"/></a></span><h1>Choose the ACL2 Language Level</h1><p>The first step is to set your language level in DrScheme. Under the Language menu, select <code>Choose Language...</code>. A dialog will pop up. Under the heading <strong>Dracula</strong>, choose <code>ACL2</code>. The first image to the right shows the <code>Choose Language...</code> dialog; click on it to see a blown-up version. </p></p></div><div class="title_box"><p><span class="float_right"><img src="images/fact-defn.png"/><br/><font color="red">(note: this image is already full-sized)</font></span><h1>Definitions Window</h1><p>The editing area in the DrScheme window is split into two sections. The top is the Definitions Window, and that is where we edit programs. Type in the definition of the factorial function: <blockquote><code><pre>(defun fact (n)
  (if (zp n)
      1
      (* n (fact (1- n)))))</pre></code></blockquote>and then click <code>Run</code>. </p></p></div><div class="title_box"><p><span class="float_right"><a href="images/fact-10.png" target="_blank"><img src="images/fact-10-small.png"/></a></span><h1>Interactions Window</h1><p>You may now test your function interactively by typing expressions at the prompt in the bottom half of the DrScheme Window. Try evaluating <code>(fact 10)</code> at the prompt by typing in the expression followed by a return. DrScheme will print out the answer <code>3628800</code>. </p><p>Try making an error in the interactions window. For example, try to evaluate <code>(fact -4)</code>. This is an error because the predicate <code>zp</code> only works on natural numbers, and you'll notice that DrScheme prints an error message to that effect. It has also highlighted <code>zp</code> in the definitions window to indicate which call received the invalid arguments. </p></p></div><div class="title_box"><p><span class="float_right"><a href="images/check-syntax.png" target="_blank"><img src="images/check-syntax-small.png"/></a></span><h1>Check Syntax</h1><p>The <code>Check Syntax</code> button analyzes the code in the definitions window to detect syntactic errors. When the program is error-free, the code is colored to represent the binding-structure. Names whose definitions occur in the program are colored light blue. Names of primitives are colored purple, and unbound names are colored red. </p><p>Mousing over light blue names causes an arrow to be drawn from the binding occurrence to the bound occurrence. You can right-click (control-click on a Mac) to pop up a context menu that allows you to tack the arrows in place, to navigate through various occurrences of the name, and to change the name throughout the program (&alpha;-conversion). </p></p></div><div class="title_box"><p><span class="float_right"><a href="images/HelpDesk.png" target="_blank"><img src="images/HelpDesk-small.png"/></a></span><h1>Help Desk</h1><p>ACL2's documentation is searchable via DrScheme's Help Desk. Highlight the predicate <code>zp</code> in either the definitions or interactions window, and then press F1. Follow the links to read the documentation on <code>zp</code> or use the text field to search for other documentation. </p></p></div><div class="title_box"><p><span class="float_right"><a href="images/console.png" target="_blank"><img src="images/console-small.png"/></a></span><h1>Start ACL2</h1><p>The right-hand side of the window shows the ACL2 console. The top half shows ACL2 proof trees, and the bottom half shows ACL2's output. The text here is read-only; ACL2 interaction will happen via the buttons in DrScheme. Begin by clicking the <code class="cmd">Start</code> button. If this is your first time starting Dracula, you will be prompted to locate an ACL2 executable. Once you have located it, ACL2 will start up and you will see its output in the console.</p><p>Click <code class="cmd">Admit</code>. This sends your definition of factorial to ACL2. ACL2 will attempt to prove that your function terminates on every input, and, if it can, your definition will be highlighted in green. If ACL2 rejects your definition, it will highlight it in red. If ACL2 rejects your code, edit it and try again. If the next unhighlighted expression is ill-formed, DrScheme will not send it to ACL2.</p><p>In order to keep ACL2 and DrScheme in sync, code that is highlighted green cannot be edited. If you wish to edit a green expression, then click <code class="cmd">Undo</code> until the expression is unhighlighted. You may also click <code class="cmd">Reset</code> to unhighlight all expressions in the definitions window. </p><p>The <code class="cmd">All</code> button will send all expressions in the definitions window to ACL2. If one of them is rejected, DrScheme will highlight it red and not attempt to admit the remaining expressions. </p><p>The <code class="cmd">To Cursor</code> button will either attempt admit terms up to the Definitions Window's cursor, or undo terms back to it, depending on where the cursor is. By placing your cursor in the middle of a term, you can alternate between admitting and undoing the term by clicking the <code class="cmd">To Cursor</code> button repeatedly.</p></p></div><div class="title_box"><p><span class="float_right"><a href="images/qed.png" target="_blank"><img src="images/qed-small.png"/></a></span><h1>Proving a theorem</h1><p>Now, prove that factorial always produces a positive number. Enter the following code after your definition of factorial: <blockquote><code><pre>(defthm fact-produces-positive
  (posp (fact n)))</pre></code></blockquote>Click <code class="cmd">Admit</code> to send the theorem to ACL2. The theorem should be highlighted in green. Now, look back at the console window. You'll see in the top it says <strong>Q.E.D.</strong> just below the theorem's name. </p></p></div><div class="title_box"><p><span class="float_right"></span><h1>Stop ACL2</h1><p>To stop ACL2, click the <code class="cmd">Stop</code> button. This will terminate the running ACL2 process for that window, and will clear the output and proof tree windows. If you wish to save ACL2's output before stopping, you may do so by clicking <code class="cmd">Save ACL2 Output As...</code> from the <code class="cmd">Dracula</code> menu.</p></p></div><div class="title_box"><p><span class="float_right"></span><h1>Explore the Sample Code</h1><p>Now that you have a handle on the basics of using ACL2 via DrScheme, study the <a href="examples.html">Sample Code</a> to explore more in-depth examples.</p></p></div><br/><br/></body></html>